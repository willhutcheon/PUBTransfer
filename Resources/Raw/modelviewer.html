<!--triangle-->
<!--<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="three.min.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            min-height: 100vh;
            overflow: hidden;
        }
        canvas {
            display: block;
            width: 100%;
            height: 100%;
            min-height: 100vh; /* prevent collapse on Android */
        }
    </style>
</head>
<body>
    <script>
        window.addEventListener('load', function () {
            console.log("=== Page loaded ===");
            if (typeof THREE === 'undefined') {
                alert("THREE.js not loaded!");
                return;
            }
            console.log("THREE.js loaded, version:", THREE.REVISION);
            try {
                // Scene
                const scene = new THREE.Scene();
                scene.background = new THREE.Color(0x808080);
                // Camera
                const camera = new THREE.PerspectiveCamera(
                    75,
                    window.innerWidth / window.innerHeight,
                    0.1,
                    100
                );
                camera.position.z = 3;
                // Renderer
                const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: false });
                renderer.setClearColor(0x808080, 1);
                renderer.setSize(window.innerWidth, window.innerHeight, false);
                document.body.appendChild(renderer.domElement);
                const canvas = renderer.domElement;
                canvas.style.width = "100%";
                canvas.style.height = "100%";
                console.log("Canvas size:", canvas.width, "x", canvas.height);
                console.log("Canvas CSS:", canvas.style.cssText);
                // Handle resize
                window.addEventListener('resize', () => {
                    const width = window.innerWidth;
                    const height = window.innerHeight;
                    camera.aspect = width / height;
                    camera.updateProjectionMatrix();
                    renderer.setSize(width, height, false);
                    console.log("Resized to:", width, "x", height);
                });
                // Geometry
                const geometry = new THREE.BufferGeometry();
                const vertices = new Float32Array([
                    0.0, 1.0, 0.0,
                    -1.0, -1.0, 0.0,
                    1.0, -1.0, 0.0
                ]);
                geometry.setAttribute('position', new THREE.BufferAttribute(vertices, 3));
                geometry.setIndex([0, 1, 2]);
                // Material + Mesh
                const material = new THREE.MeshBasicMaterial({ color: 0xff0000, side: THREE.DoubleSide });
                const triangle = new THREE.Mesh(geometry, material);
                scene.add(triangle);
                // Animate
                let frameCount = 0;
                function animate() {
                    requestAnimationFrame(animate);
                    triangle.rotation.y += 0.01;
                    triangle.rotation.x += 0.01;
                    renderer.render(scene, camera);
                    frameCount++;
                    if (frameCount === 1) console.log("First frame rendered!");
                    if (frameCount === 60) console.log("60 frames rendered successfully");
                }
                animate();
                console.log("=== Setup complete ===");
            } catch (error) {
                console.error("ERROR:", error.message);
                console.error("Stack:", error.stack);
                alert("Error: " + error.message);
            }
            // WebGL test
            console.log("WebGL supported?", (() => {
                try {
                    const canvas = document.createElement("canvas");
                    const gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
                    return !!gl;
                } catch (e) {
                    return false;
                }
            })());
        });
    </script>
</body>
</html>-->
<!--orbital vape-->
<!--<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <script>
        window.addEventListener('load', () => {
            if (typeof THREE === 'undefined') {
                alert("THREE.js not loaded!");
                return;
            }
            // Scene
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x808080);
            // Camera
            const camera = new THREE.PerspectiveCamera(
                75,
                window.innerWidth / window.innerHeight,
                0.1,
                100
            );
            camera.position.z = 5;
            // Renderer
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);
            // Lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(1, 1, 1);
            scene.add(directionalLight);
            // Controls (enable touch + mouse rotation)
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true; // smooth rotation
            controls.dampingFactor = 0.05;
            controls.enableZoom = true;    // optional, allow pinch/scroll zoom
            controls.enablePan = false;    // optional, disable panning
            // Load GLTF model
            const loader = new THREE.GLTFLoader();
            //SHOWS MODEL ON ANDROID, KEEP
            loader.load(
                "steampunk_vape.glb",
                (gltf) => {
                    scene.add(gltf.scene);
                    console.log("Model loaded successfully!");
                },
                undefined,
                (error) => {
                    console.error("Error loading model:", error);
                }
            );
            //END SHOWS MODEL ON ANDROID, KEEP




            //loader.load(
            //    "http://localhost:9696/steampunk_vape.glb",
            //    (gltf) => { scene.add(gltf.scene); },
            //    undefined,
            //    (error) => { console.error("Error loading model:", error); }
            //);

            //loader.load(
            //    "http://127.0.0.1:9696/steampunk_vape.glb", // must match server URL
            //    (gltf) => {
            //        scene.add(gltf.scene);
            //        console.log("Model loaded!");
            //    },
            //    undefined,
            //    (error) => { console.error("Error loading model:", error); }
            //);

            //open browser on phone and go to http://127.0.0.1:9696/steampunk_vape.glb
            //it needs to download the file from here, seems like it does correctly

            // Handle resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
            // Animate
            function animate() {
                requestAnimationFrame(animate);
                controls.update(); // required if enableDamping = true
                renderer.render(scene, camera);
            }
            animate();
        });
    </script>
</body>
</html>-->
<!--to get this to get real data from a .cs file:
Load Three.js + GLTF model in the WebView as you’re already doing.
Keep a reference to the model object in JS (let model;).
From C#, collect the sensor or simulation data.
Call EvaluateJavaScriptAsync with the new data.
The model updates in real-time.-->
<!--orbital vape that snaps to points-->
<!--<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <script>
        window.addEventListener('load', () => {
            if (typeof THREE === 'undefined') {
                alert("THREE.js not loaded!");
                return;
            }
            // Scene
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x808080);
            // Camera
            const camera = new THREE.PerspectiveCamera(
                75,
                window.innerWidth / window.innerHeight,
                0.1,
                100
            );
            camera.position.z = 5;
            // Renderer
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);
            // Lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(1, 1, 1);
            scene.add(directionalLight);
            // Load GLTF model
            const loader = new THREE.GLTFLoader();
            let model; // store model reference
            loader.load(
                "steampunk_vape.glb",
                (gltf) => {
                    model = gltf.scene;
                    scene.add(model);
                    console.log("Model loaded successfully!");
                },
                undefined,
                (error) => {
                    console.error("Error loading model:", error);
                }
            );
            // Handle resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
            // Fake X, Y, Z data (can be dynamic)
            let fakeDataIndex = 0;
            const fakeData = [
                { x: 0, y: 0, z: 0 },
                { x: 0.5, y: 0.2, z: 0 },
                { x: -0.5, y: -0.2, z: 0.1 },
                { x: 0.3, y: 0.4, z: -0.2 },
                { x: 0, y: 0, z: 0 }
            ];
            // Animate
            function animate() {
                requestAnimationFrame(animate);
                if (model) {
                    // Rotate or move the model using fake data
                    const data = fakeData[fakeDataIndex];
                    model.rotation.x = data.x;
                    model.rotation.y = data.y;
                    model.rotation.z = data.z;

                    // Advance to next data point every 10 frames
                    if (performance.now() % 1000 < 16) {
                        fakeDataIndex = (fakeDataIndex + 1) % fakeData.length;
                    }
                }
                renderer.render(scene, camera);
            }
            animate();
        });
    </script>
</body>
</html>-->
<!--test for iphone model debugging-->
<!--<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        #log {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            max-height: 40%;
            background: rgba(0,0,0,0.7);
            color: #0f0;
            font-family: monospace;
            font-size: 12px;
            overflow-y: auto;
            white-space: pre-wrap;
            padding: 5px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <div id="log"></div>-->
    <!--<script>
        // Hook console.log/error/warn into on-screen logger
        (function () {
            const logDiv = document.getElementById("log");
            function addLog(type, args) {
                const msg = Array.from(args).map(a =>
                    (typeof a === "object" ? JSON.stringify(a) : a)
                ).join(" ");
                const line = document.createElement("div");
                line.textContent = `[${type}] ${msg}`;
                logDiv.appendChild(line);
                logDiv.scrollTop = logDiv.scrollHeight;
            }
            const origLog = console.log;
            const origErr = console.error;
            const origWarn = console.warn;

            console.log = function () { addLog("log", arguments); origLog.apply(console, arguments); };
            console.error = function () { addLog("error", arguments); origErr.apply(console, arguments); };
            console.warn = function () { addLog("warn", arguments); origWarn.apply(console, arguments); };
        })();

        window.addEventListener('load', () => {
            if (typeof THREE === 'undefined') {
                console.error("THREE.js not loaded!");
                return;
            }

            // Scene
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x808080);

            // Camera
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);
            camera.position.z = 5;

            // Renderer
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            // Lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(1, 1, 1);
            scene.add(directionalLight);

            // Controls
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.enableZoom = true;
            controls.enablePan = false;


            fetch("./steampunk_vape.glb")
                .then(res => {
                    if (!res.ok) throw new Error("HTTP " + res.status + " " + res.statusText);
                    console.log("Model file fetched OK:", res.status);
                })
                .catch(err => console.error("Fetch failed:", err.message));

            fetch("Resources/Raw/steampunk_vape.glb")
                .then(res => console.log("Fetched:", res))
                .catch(err => console.error("Fetch failed:", err.message));


            // Load GLTF model
            //const loader = new THREE.GLTFLoader();

            //loader.load("./steampunk_vape.glb",
            ////loader.load("ms-appx:///Resources/Raw/steampunk_vape.glb",
            ////loader.load(
            ////    "steampunk_vape.glb",
            //    (gltf) => {
            //        scene.add(gltf.scene);
            //        console.log("Model loaded successfully!");
            //    },
            //    undefined,
            //    (error) => {
            //        console.error("Error loading model:", error);
            //        if (error && error.message) {
            //            console.error("Error message:", error.message);
            //        }
            //        if (error && error.target && error.target.src) {
            //            console.error("Failed URL:", error.target.src);
            //        }
            //    }
            //);

            //this is where were loading from now, does not show Model loaded from Base64! on iphone
            window.loadGLBFromBase64 = function (base64GLB) {
                const arrayBuffer = Uint8Array.from(atob(base64GLB), c => c.charCodeAt(0)).buffer;
                const loader = new THREE.GLTFLoader();
                loader.parse(arrayBuffer, "", function (gltf) {
                    scene.add(gltf.scene);
                    console.log("Modell loaded from Base64!");
                }, function (error) {
                    console.error("Error parsing model:", error);
                });
            };

            // Resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            // Animate
            function animate() {
                requestAnimationFrame(animate);
                controls.update();
                renderer.render(scene, camera);
            }
            animate();
        });
    </script>-->

    <!--<script>


        (function () {
            const logDiv = document.getElementById("log");
            function addLog(type, args) {
                const msg = Array.from(args).map(a =>
                    (typeof a === "object" ? JSON.stringify(a) : a)
                ).join(" ");
                const line = document.createElement("div");
                line.textContent = `[${type}] ${msg}`;
                logDiv.appendChild(line);
                logDiv.scrollTop = logDiv.scrollHeight;
            }
            const origLog = console.log;
            const origErr = console.error;
            const origWarn = console.warn;

            console.log = function () { addLog("log", arguments); origLog.apply(console, arguments); };
            console.error = function () { addLog("error", arguments); origErr.apply(console, arguments); };
            console.warn = function () { addLog("warn", arguments); origWarn.apply(console, arguments); };
        })();



        window.addEventListener('load', () => {
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x808080);

            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);
            camera.position.z = 5;

            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(1, 1, 1);
            scene.add(directionalLight);

            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;

            console.log("Loading model via HTTP...");

            fetch("http://localhost:9696/steampunk_vape.glb")
                .then(r => console.log("Fetch OK", r))
                .catch(e => console.error("Fetch fail", e));


            const loader = new THREE.GLTFLoader();
            //loader.load("steampunk_vape.glb",
            //    (gltf) => {
            //        scene.add(gltf.scene);
            //        console.log("Model loaded successfully via HTTP!");
            //    },
            //    (xhr) => console.log(`Loading: ${(xhr.loaded / xhr.total * 100).toFixed(1)}%`),
            //    (error) => console.error("Error loading model:", error)
            //);
            loader.load(
                "steampunk_vape.glb",
                (gltf) => {
                    scene.add(gltf.scene);
                    console.log("Model loaded successfully via HTTP!");
                },
                (xhr) => {
                    if (xhr.total) {
                        console.log(`Loading: ${(xhr.loaded / xhr.total * 100).toFixed(1)}%`);
                    } else {
                        console.log(`Loading: ${xhr.loaded} bytes loaded`);
                    }
                },
                (error) => {
                    console.error("Error loading model:", error);

                    // Try to show more info if available
                    if (error instanceof Error) {
                        console.error("Error message:", error.message);
                        console.error("Stack trace:", error.stack);
                    } else if (error.target) {
                        console.error("Failed URL:", error.target.src);
                    } else {
                        // Fallback: stringify the object to see all properties
                        console.error("Full error object:", JSON.stringify(error, Object.getOwnPropertyNames(error)));
                    }
                }
            );


            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            function animate() {
                requestAnimationFrame(animate);
                controls.update();
                renderer.render(scene, camera);
            }
            animate();
        });
    </script>
</body>
</html>-->
<!--rudementary vape-->
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/three@0.128.0/build/three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <script>
        window.addEventListener('load', () => {
            if (typeof THREE === 'undefined') {
                alert("THREE.js not loaded!");
                return;
            }

            // Scene
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x808080);

            // Camera
            const camera = new THREE.PerspectiveCamera(
                75,
                window.innerWidth / window.innerHeight,
                0.1,
                100
            );
            camera.position.set(0, 2, 5);

            // Renderer
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            // Lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(5, 5, 5);
            scene.add(directionalLight);

            // Orbit controls (mouse/touch drag to rotate)
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.enableZoom = true;
            controls.enablePan = false;

            // ---- Vape Shape ----
            // Body
            const bodyGeometry = new THREE.CylinderGeometry(0.3, 0.3, 2, 32);
            const bodyMaterial = new THREE.MeshPhongMaterial({ color: 0x5555ff, shininess: 100 });
            const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
            scene.add(body);

            // Mouthpiece
            const mouthGeometry = new THREE.CylinderGeometry(0.15, 0.15, 0.4, 32);
            const mouthMaterial = new THREE.MeshPhongMaterial({ color: 0x222222, shininess: 80 });
            const mouthpiece = new THREE.Mesh(mouthGeometry, mouthMaterial);
            mouthpiece.position.y = 1.2; // move to top
            scene.add(mouthpiece);

            // Handle resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            // Animate
            function animate() {
                requestAnimationFrame(animate);
                controls.update(); // needed for damping
                renderer.render(scene, camera);
            }
            animate();
        });
    </script>
</body>
</html>
<!--<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/three@0.128.0/build/three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <script>
        window.addEventListener('load', () => {
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x808080);

            // Camera
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);
            camera.position.set(0, 2, 5);

            // Renderer
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            // Lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(5, 5, 5);
            scene.add(directionalLight);

            // Orbit Controls
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.enableZoom = true;
            controls.enablePan = false;

            // --- Vape Body ---
            const bodyGeometry = new THREE.CylinderGeometry(0.3, 0.3, 2, 32);
            const bodyMaterial = new THREE.MeshPhongMaterial({ color: 0x5555ff, shininess: 100 });
            const body = new THREE.Mesh(bodyGeometry, bodyMaterial);
            scene.add(body);

            // --- Mouthpiece Cone ---
            const tipGeometry = new THREE.ConeGeometry(0.15, 0.4, 32);
            const tipMaterial = new THREE.MeshPhongMaterial({ color: 0x222222, shininess: 80 });
            const tip = new THREE.Mesh(tipGeometry, tipMaterial);
            tip.position.y = 1.2; // top of body
            scene.add(tip);

            // --- Decorative Torus Ring ---
            const ringGeometry = new THREE.TorusGeometry(0.32, 0.03, 16, 100);
            const ringMaterial = new THREE.MeshPhongMaterial({ color: 0xffcc00 });
            const ring = new THREE.Mesh(ringGeometry, ringMaterial);
            ring.position.y = 0.8;
            ring.rotation.x = Math.PI / 2;
            scene.add(ring);

            // --- Small Button ---
            const buttonGeometry = new THREE.BoxGeometry(0.05, 0.1, 0.02);
            const buttonMaterial = new THREE.MeshPhongMaterial({ color: 0xff0000 });
            const button = new THREE.Mesh(buttonGeometry, buttonMaterial);
            button.position.set(0.2, 0, 0.15);
            scene.add(button);

            // Handle resize
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            // Animate
            function animate() {
                requestAnimationFrame(animate);
                controls.update();
                renderer.render(scene, camera);
            }
            animate();
        });
    </script>
</body>
</html>-->






<!--<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/three@0.128.0/build/three.min.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://unpkg.com/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        #log {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            max-height: 40%;
            background: rgba(0,0,0,0.7);
            color: #0f0;
            font-family: monospace;
            font-size: 12px;
            overflow-y: auto;
            white-space: pre-wrap;
            padding: 5px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
    <div id="log"></div>
    <script>
        (function () {
            const logDiv = document.getElementById("log");
            function addLog(type, args) {
                const msg = Array.from(args).map(a => (typeof a === "object" ? JSON.stringify(a) : a)).join(" ");
                const line = document.createElement("div");
                line.textContent = `[${type}] ${msg}`;
                logDiv.appendChild(line);
                logDiv.scrollTop = logDiv.scrollHeight;
            }
            const origLog = console.log; const origErr = console.error;
            console.log = function () { addLog("log", arguments); origLog.apply(console, arguments); };
            console.error = function () { addLog("error", arguments); origErr.apply(console, arguments); };
        })();

        window.addEventListener('load', () => {
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x808080);

            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);
            camera.position.set(0, 2, 5);

            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);

            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
            directionalLight.position.set(5, 5, 5);
            scene.add(directionalLight);

            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;

            // --- Base64 GLB string ---
            const base64GLB = "";
            console.log("Loading model from Base64 string...");

            const loader = new THREE.GLTFLoader();
            const arrayBuffer = Uint8Array.from(atob(base64GLB), c => c.charCodeAt(0)).buffer;

            loader.parse(arrayBuffer, "", (gltf) => {
                scene.add(gltf.scene);
                console.log("Model loaded successfully from Base64!");
            }, (error) => {
                console.error("Error parsing model:", error);
            });

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            function animate() {
                requestAnimationFrame(animate);
                controls.update();
                renderer.render(scene, camera);
            }
            animate();
        });
    </script>
</body>
</html>-->
